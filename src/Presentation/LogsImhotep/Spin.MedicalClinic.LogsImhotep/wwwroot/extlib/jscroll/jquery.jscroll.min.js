(function(n){function t(n){for(var t=0,i=n.parent();t==0;)t=i.height()-n.outerHeight(),t==0&&(i=i.parent());return t}n.fn.jScroll=function(i){function u(n){this.min=n.offset().top;this.originalMargin=parseInt(n.css("margin-top"),10)||0;this.getMargin=function(i){var u=this.originalMargin,f=t(n);return f-=r.bottom,f<0&&(f=0),i.scrollTop()>=this.min&&(u=u+r.top+i.scrollTop()-this.min),u>f&&(u=f),{marginTop:u+"px"}}}var r=n.extend({},n.fn.jScroll.defaults,i);return this.each(function(){var t=n(this),i=n(window),f=new u(t);i.scroll(function(){t.stop().animate(f.getMargin(i),r.speed)})})};n.fn.jScroll.defaults={speed:"slow",top:10,bottom:10}})(jQuery);